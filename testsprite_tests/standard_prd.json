{
  "meta": {
    "project": "FinanceHub Pro",
    "date": "2026-01-09",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "FinanceHub Pro is an enterprise-grade financial intelligence platform delivering real-time and historical stock market analytics focused on the MENA region, especially Saudi Stock Exchange and Egyptian Exchange.",
  "core_goals": [
    "Provide institutional-grade accuracy and display of market data.",
    "Automate ingestion of market data from multiple sources like Yahoo Finance and Mubasher.",
    "Offer advanced screening and analytic tools tailored for investors and market analysts."
  ],
  "key_features": [
    "Real-Time Market Monitoring with live price feeds, volume, and percentage changes for tracked stocks.",
    "Comprehensive Stock Profiles delivering historical OHLC data, financial ratios such as P/E, P/B, and detailed company information.",
    "Deep Screener enabling multi-factor stock filtering by sector, market cap, and valuation ratios.",
    "Mutual Funds Explorer tracking NAVs, returns, and sector allocations of mutual funds.",
    "AI Financial Analyst employing NLP to assist users in querying market trends and stock performance."
  ],
  "user_flow_summary": [
    "User accesses real-time market data and watchlist stocks with live updates.",
    "User explores detailed stock profiles including financial ratios and historical market data.",
    "User applies advanced filters in the Deep Screener to identify stocks matching specific criteria.",
    "User reviews detailed mutual fund information including NAV history and sector allocations.",
    "User interacts with AI analyst for natural language financial queries and insights."
  ],
  "validation_criteria": [
    "All financial data must comply with production DB schema (`market_tickers`, `ohlc_data`).",
    "Ensure zero-error presentation across all UI components, handling \"N/A\" or missing upstream data gracefully.",
    "Real-time data updates should be consistent and accurate with minimal latency.",
    "Screening filters must return correct, comprehensive results based on selected parameters.",
    "Mutual funds data refreshes and calculations for NAV and returns must be precise and timely.",
    "AI Assistant responses must be relevant and accurate per market data context."
  ],
  "code_summary": {
    "tech_stack": [
      "Python",
      "FastAPI",
      "PostgreSQL",
      "Supabase",
      "Databases (Async)",
      "SQLAlchemy",
      "yfinance",
      "yahooquery"
    ],
    "features": [
      {
        "name": "Yahoo Watchlist API",
        "description": "Fetches and maps real-time stock data from market_tickers for the EGX watchlist.",
        "files": [
          "hf-space/app/api/v1/endpoints/yahoo.py"
        ]
      },
      {
        "name": "Stock Profile & History API",
        "description": "Provides detailed company profile from market_tickers and historical OHLC data from ohlc_data.",
        "files": [
          "hf-space/app/api/v1/endpoints/yahoo.py"
        ]
      },
      {
        "name": "Deep Screener API",
        "description": "Multi-factor filtering for stocks across sectors and valuation ratios.",
        "files": [
          "hf-space/app/api/v1/endpoints/market.py"
        ]
      },
      {
        "name": "Mutual Funds API",
        "description": "Tracks NAVs, returns, and sector allocations for mutual funds.",
        "files": [
          "hf-space/app/api/v1/endpoints/funds.py"
        ]
      },
      {
        "name": "Database Integration Layer",
        "description": "Asynchronous database access using Supabase and secondary connection pools.",
        "files": [
          "hf-space/app/db/session.py",
          "hf-space/app/core/config.py"
        ]
      }
    ]
  }
}
